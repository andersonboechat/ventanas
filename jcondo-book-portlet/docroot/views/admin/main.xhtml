<?xml version="1.0" encoding="ISO-8859-1"?>

<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<style>
	.occurrence .leftClm {width: 35%; vertical-align: top}
	.occurrence .rightClm {vertical-align: top;}
	
	.occurrence .portraitClm {width: 200px; text-align: center; vertical-align: top}
	.occurrence .portraitClm img {border: 1px solid grey; display: block; margin: 0px auto;}
	.occurrence .textClm {padding-top: 0px; vertical-align: top}

	.no-border {border: none !important;}
	.no-border tr {border: none !important;}
	.no-border .ui-datatable td {border: none !important;}
	.no-border .ui-datagrid-content {border: none !important;}
	.no-border .ui-panelgrid-cell  {border: none !important;}
	.no-margin {margin:  0px !important; padding: 0px !important;}
	.no-margin td {margin:  0px !important; padding: 0px !important;}
	.no-margin tr {margin:  0px !important; padding: 0px !important;}
	.no-background {background-color: transparent;}
	.no-background .ui-datatable td  {background-color: transparent !important;}
	.no-background .ui-panelgrid-cell {background-color: transparent !important;}
	.ui-panelgrid.no-background tr {background-color: transparent !important;}
	
	.occurrence .textarea {
		-moz-box-shadow: none !important;
		-webkit-box-shadow: none !important;
		box-shadow: none !important;
		border: 1px solid #d7d7d7 !important; 
		border-spacing: none !important;
		border-radius: 5px;
		width: 100%;
		height: 220px !important;
		overflow-y: auto;
		padding: 10px 10px 5px 10px !important; 
		background: #ffffff !important; 
		font-size: 15px !important;
		font-family: Georgia !important; 
		font-style: italic !important;
		margin-right: 20px !important;
		margin-top: 0px !important;
		text-align: justify;
		position: relative !important;
		left: 0px;
		display: block;
	}
	
	.no-header thead {display: none;}
	
	.ui-row-toggler2 {width: 15px; }
	
	.ui-datatable-tablewrapper tbody {border-top: 0px !important; border-bottom: 0px !important;}
	
	.occurrence .portrait {vertical-align: top; width: 160px; text-align: center}
	
	.occurrence .answered {font-weight: bold;}
	
	.occurrence .not-answered {}
	
			.picture {margin: 0px !important; padding: 0px !important; vertical-align: top;}
			.picture td {margin: 0px !important; padding: 0px !important; vertical-align: top;}
			.pic-cmds {margin: 5px 0px 0px !important;}
			.pic-cmds td {margin: 0px !important; padding: 0px !important; vertical-align: top;}
			.no-header thead {display: none}
			.cropper2 {margin: 0px auto !important; padding: 0px auto !important; text-align: center; padding: 0;}
			.cropper2 div {margin: 0 auto !important; padding: 0px auto !important;}
			.cropper2 .img { margin: 0px auto !important; text-align: center; padding: 0px auto !important;}
			.user-image {background: url("/account-portlet/images/avatar.png") no-repeat center ; text-align: center; margin: 0px auto;}
			.car-image {background: url("/account-portlet/images/car.png") no-repeat center; text-align: center; margin: 0px auto;}
			.moto-image {background: url("/account-portlet/images/moto.png") no-repeat center; text-align: center; margin: 0px auto;}
			.bike-image {background: url("/account-portlet/images/bike.png") no-repeat center; text-align: center; margin: 0px auto;}
			.car-thumb {background-image: url("/account-portlet/images/car_icon.png") ;}
			.column {padding: 6px; }
			.column12 {width: 40px; font-size: 13px;}
			.column20 {width: 100px;}
			.panel tr {border: none !important; background-color: transparent; font-size: 16px;}
			.panel td {border: none !important; background-color: transparent; font-size: 16px;}
			.menu-cmds {width: 100%;}
			.menu-cmds td {border: none !important; margin: 0px; padding: 0px}
			.menu-cmds tr {
				width: 100%; border-bottom: 0px !important; border-color: #cccccc !important; 	
				-webkit-border-top-right-radius: 3px !important;
				-moz-border-radius-topright: 3px !important;
				border-top-right-radius: 3px !important;
			}
			.menu-cmds-col1 {vertical-align: middle; width: 155px; border: none !important; padding: 0px; margin: 0px;}
			.menu-cmds-col2 {vertical-align: middle; width: 130px; padding-right: 26px !important;}
			.menu-cmds-col3 {vertical-align: middle; padding: 0; margin: 0; text-align: right; border: 0px solid red !important}
			.my-account-col1 {vertical-align: top; width: 170px; height: 300px}
			.my-account-col2 {vertical-align: top; padding: 0px !important; width: 400px;}
			.labelClm {width: 93px; background-color: transparent; padding: 0; margin: 0;border: 1px solid red !important;}
			.fieldClm {background-color: transparent !important; padding: 0; margin: 0;border: 1px solid red !important;}
			.fieldClm {border: 1px solid red !important;padding-right: 0px !important;}
			.fieldClm input {width: 95%;}
			.person-image {
				border: none !important;  padding: 0px !important; margin:  0px !important;
			}

			.portrait img {
				margin: 0px !important;
				padding: 0px !important;
				display: table-cell;
				
			}

			.portrait td {
				padding: 6px !important;
				background-color: white !important;
				margin: 0px !important;
			}

			.portrait .ui-panelgrid-cell {
				-webkit-border-radius: 3px !important;
				-moz-border-radius: 3px !important;
				border-radius: 3px !important;
				-webkit-box-shadow: 0px 0px 6px 0px #cccccc;
				-moz-box-shadow: 0px 0px 6px 0px #cccccc;
				box-shadow: 0px 0px 6px 0px #cccccc;
			}
			
			.foto {
				border: 4px solid white;
				-webkit-border-radius: 3px !important;
				-moz-border-radius: 3px !important;
				border-radius: 3px !important;
				-webkit-box-shadow: 0px 0px 6px 0px #cccccc;
				-moz-box-shadow: 0px 0px 6px 0px #cccccc;
				box-shadow: 0px 0px 6px 0px #cccccc;			
			}
			
			.person-image div {border: none !important;}
			.no-border {border: none !important;}
			.no-border {border: none !important;}
			.no-border3 tr {border: none !important;}
			.no-border3 td {border: none !important;}
			
			.no-border>table>tbody>tr {border: none !important;}
			.no-border>tbody>tr {border: none !important;}
			.no-border>tbody>tr>td {border: none !important;}
			
			.no-margin3 {margin:  0px !important; padding: 0px !important;}
			.no-margin>tbody>tr>td {margin:  0px !important; padding: 0px !important;}
			.no-margin {margin:  0px !important; padding: 0px !important;}
			.no-margin>div {margin:  0px !important; padding: 0px !important;}
			.no-background {background-color: transparent !important;}
			.no-background>div {background-color: transparent;}
			.no-background>tbody>tr {background-color: transparent !important;}
			.no-background>tbody>tr>td {background-color: transparent !important;}
			.flats {float: right; margin: 0px; padding: 0;}
			.flats tr {margin: 0px; padding: 0;}
			.flats td {margin: 0px; padding: 0;}
			.memberships div {border: 0px; border-top: 1px solid grey;}
			.memberships tbody {background-color: transparent !important;}
			.docs-header {text-align: left;}
			.docs-header td {padding: 0; margin: 0;}
			.docs-cmds {width: 8%; vertical-align: middle;}
			.docs-cmds td {vertical-align: middle;}
			.docs-cmds img {padding: 0; margin: 0px 0px 0px 7px; vertical-align: middle;}
			.ui-tabs {background: none; padding: 0 !important; border: 0px !important;}
			.ui-tabs-nav {background: none !important; }
			.ui-tabs-panel {margin: 0 !important; padding: 0 !important}
			.parkings {width: 50%; vertical-align: top}
			.documents {width: 50%; vertical-align: top}
			.birthday input {width: 95% !important;}

			.userPanel {border: 0px solid black;}
			.userPanel td {padding-top: 2px !important; padding-bottom: 2px !important; border: 0px solid green !important;}

			.ui-tabs .ui-state-default {border-bottom: 1px solid !important; border-color: #cccccc !important}
			.ui-tabs .ui-tabs-selected {border-bottom: 1px solid transparent !important;}
			.ui-tabs-nav {background: none !important; }
			.ui-tabs {margin-top: 1cm; padding: 0 !important; border: 0px !important;}
			.ui-tabs-panel {margin: 0 !important; border: 0px solid grey !important;}
			.ui-tabs-panels {border-color: #cccccc !important;}
			
			
			.ui-datatable-odd {background: #f9f9f9;}
			.ui-datatable-even {background: #ffffff;}
			.ui-datatable {border-color: red !important;}
			.ui-datatable thead {border-color: #cccccc !important;}
			.ui-datatable tbody {border-color: #cccccc !important;}
			.ui-datatable tfoot {border-color: #cccccc !important;}
			.ui-datatable th {border-color: #cccccc !important;}
			.ui-datatable tr {border-color: #cccccc !important;}
			.ui-datatable td {border-color: #cccccc !important;}
			.ui-datatable table {border-color: #cccccc !important;}
			.ui-datatable .ui-paginator {border-color: #cccccc !important;}
			.ui-datatable .ui-datatable-header {border-color: #cccccc !important;}
			
			.ui-datepicker {padding: 0 !important; text-align: center !important;}
			.ui-datepicker-header {background: url("/account-portlet/images/dockbar_bg.png") !important; margin: 0 !important; font-size: 12px !important; padding: 8px !important;}
			.ui-datepicker tr {border: 0px solid black !important; text-align: center !important;}
			.ui-datepicker .ui-state-default {color: #797979 !important; text-align: center !important;
							-webkit-border-radius: 3px !important;
				-moz-border-radius: 3px !important;
				border-radius: 3px !important;
			}
			
			.ui-datepicker td .ui-state-hover {background: #35516d !important; color: #ffffff !important;}
			.ui-datepicker div {color: #797979 !important;}
			.ui-datepicker tbody {padding: 0px 20px !important; border: 0px solid black !important;}
			.ui-datepicker-prev, .ui-datepicker-next {color: white !important; padding: 6px !important;}
			.ui-datepicker-next {background-position:-32px -160px !important;}
			.ui-datepicker-month, .ui-datepicker-title {padding-right: 15px !important;}
			
			.ui-confirmdialog-no {}
			
			
			.ui-picklist-list {width: 400px !important;}
			
			.pwd-panel {margin: 20px 0px 0px !important; padding: 0px !important;font-size: 12px;}
			.pwd-panel .ui-panel-content  {margin: 0px !important; padding: 0px !important;}
			.pwd-panel td {margin: 0px !important;}
			.pwd-panel input {width: 60px;}
			
			.status .ui-dialog-titlebar {display: none}
			
			.ui-dialog-titlebar {
				background: url("/account-portlet/images/dockbar_bg.png") !important; 
				color: #fafafa;
				text-shadow: 1px 1px 5px rgba(84, 84, 84, 1);
				line-height: 25px;
				border: 1px solid #335a85 !important;
			}
			
			.ui-dialog {
				border: none !important;
			}
			
			.ui-dialog-titlebar-close {margin: 4px !important; border: 0px solid white}
			
			.ui-dialog-content2 {padding: 0 !important}
			
			.ui-dialog-buttonpane {background: #f9f9f9 !important}

			.memberships tbody {border: none !important;}
			
			.alert .ui-messages div {border: none !important; color: inherit;}
			.alert .ui-icon-alert {display: none;}
			
			.no-style .ui-messages-warn, .no-icon .ui-messages-info {width: 100%; border: none !important; color: inherit; text-align: justify}
			.no-style .ui-messages-warn-summary, .no-icon .ui-messages-info-summary {margin: 0; color: inherit;}
			
			.ui-growl {font-size: 13px;}
			
			
			.vehicle-form {vertical-align: top;}
			
			.users {
				background: #f9f9f9;
				border: 1px solid #cccccc !important;
				border-radius: 25px !important;
				-webkit-border-radius: 35px !important;
				-moz-border-radius: 25px !important;
				padding: 3px;
				vertical-align: middle;
			}
			
			.vertical {vertical-align: top;}
			.access-type label {margin: 5px !important}
			.access-type .ui-radiobutton {margin-left: 15px; margin-right: 5px}
			
			.ui-button {padding: 3px !important}
			
			.flat-left {
				vertical-align: top;
				width: 35%;
			}
			
			.flat-right {
				vertical-align: top;
				width: 65%;
			}
			
			.person-left {
				vertical-align: top;
				margin:  0px !important; padding: 0px !important;
			}
			
			.person-right {
				vertical-align: top;
				width: 30%;
				margin-left: 20px;
				
			}
			
			.person-type {
				line-height: 40px;
				padding-left: 20px;
			}

			.person-type:hover {
				line-height: 40px;
				background: #f9f9f9;
			}
			
			.person-type a {
				text-decoration: none;
				font-weight: normal;
				margin-left: 15px;
			}
			
			.person-cmds {
				width: 100%;
				border-left: 1px solid #cccccc !important;
				border-right: 1px solid #cccccc !important;
				border-top: 1px solid #cccccc !important;
			}

			.person-cmds td {
				background: #f9f9f9;
			}
			
			.person-cmds-left {
				
				
			}

			.person-cmds-right {
				text-align: right;
				width: 180px;
			}
			
			.questions {
				text-align: left;
				width: 100%;
				padding: 6px 6px 6px 6px !important;
			}
			
			.questions>tbody {
				padding: 6px 6px 6px 6px !important;
			}
			
			.questions label {
				margin: 0px 15px 0px 5px;
			}
			
			.questions label.ui-outputlabel {
				margin-top: 20px !important;
			}
			
			.vehicle-box .ui-panel-titlebar {
				background: #cccccc;
				border: none !important;
				border-radius: 0px !important;
				-webkit-border-radius: 0px !important;
				-moz-border-radius: 0px !important;
			}
			
			.vehicle-box {
				padding: 0 !important;
				-webkit-box-shadow: 1px 2px 3px 0px #cccccc;
				-moz-box-shadow: 1px 2px 3px 0px #cccccc;
				box-shadow: 1px 2px 3px 0px #cccccc;
				background: #f9f9f9;
				text-align:center; 
				height: 200px;
			}
			
			.flat-box .ui-panel-titlebar {
				border: none !important;
				border-bottom: 1px solid #cccccc !important; 
				border-radius: 0px !important;
				-webkit-border-radius: 0px !important;
				-moz-border-radius: 0px !important;
			}
			
			.flat-box {
				padding: 0 !important;
				-webkit-box-shadow: 1px 2px 3px 0px #cccccc;
				-moz-box-shadow: 1px 2px 3px 0px #cccccc;
				box-shadow: 1px 2px 3px 0px #cccccc;
				background: #f9f9f9;
				text-align:left; 
			}
			
			<!-- Main container element -->
			.ui-fileupload.ui-widget {
				border: none !important; border: none !important;
				-webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;			
			}
			
			.ui-fileupload>div {
				background: none !important; padding: 0 !important; 
				border: none !important; 
				-webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;	
				-webkit-border-radius: 0 !important; -moz-border-radius: 0 !important; border: none !important;			
			}
			 
			<!-- Button bar -->
			.fileupload-buttonbar2 {
				margin: 0 !important; border: none !important;
				-webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;					
			}
			
			.ui-fileupload-choose {
				width: 33px; height: 31px; background: none !important; border: none !important;
				-webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;
			}
			
			.ui-fileupload-choose .ui-icon-plusthick {
				margin-top: -18px !important; margin-left: -5px !important;
				background: url("/account-portlet/images/send-pic.png"); width: 33px; height: 31px; line-height: 31px;
				border-radius: 0 !important;
				-webkit-border-radius: 0 !important; -moz-border-radius: 0 !important; border: none !important;
				-webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;	
			}
			
			.ui-fileupload-choose .ui-button-text {
				margin: 0 !important; width: 33px; height: 31px; line-height: 31px;
				border: none !important;
				-webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;
			 }
			 
			 .ui-fileupload-choose .ui-c {
			 border: none !important;
				 -webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;
			 }
			 
			 .ui-fileupload-choose input {
				 border: none !important;
				 -webkit-box-shadow: none !important; -moz-box-shadow: none !important; box-shadow: none !important;
			 }
			
			.ui-fileupload-files {
				position: absolute; z-index: 9999999999999999; top: 30%; left: 21%; 
				background: #ffffff !important;
				-webkit-box-shadow: 1px 2px 3px 0px #cccccc; -moz-box-shadow: 1px 2px 3px 0px #cccccc; box-shadow: 1px 2px 3px 0px #cccccc;
				border-radius: 5px !important; -webkit-border-radius: 5px !important; -moz-border-radius: 5px !important;
			}
			
			.ui-fileupload-files td {
				padding: 10px !important;
				vertical-align: middle;
			}

			.vehicle-picture .ui-fileupload-files {
				position: absolute; z-index: 9999999999999999; top: 30%; left: 6%; 
				background: #ffffff !important;
				-webkit-box-shadow: 1px 2px 3px 0px #cccccc; -moz-box-shadow: 1px 2px 3px 0px #cccccc; box-shadow: 1px 2px 3px 0px #cccccc;
				border-radius: 5px !important; -webkit-border-radius: 5px !important; -moz-border-radius: 5px !important;
			}
			
			.vehicle-picture .ui-fileupload-files td:nth-child(2), .vehicle-picture .ui-fileupload-files td:nth-child(3) {display: none !important;}
			
			.ui-fileupload-files td:nth-child(2), .ui-fileupload-files td:nth-child(3) {display: none !important;}
			

			.cropper>div {margin: 0px auto !important; padding: 0px auto !important; text-align: center !important; }
			
			.searchBtn {
				-webkit-border-top-left-radius: 0px;
				-webkit-border-bottom-left-radius: 0px;
				-moz-border-radius-topleft: 0px;
				-moz-border-radius-bottomleft: 0px;
				border-top-left-radius: 0px;
				border-bottom-left-radius: 0px;
				background: #ffffff !important;
				font-weight: normal !important;	
			}
			
			.searchField {
				font-style: italic; width: 75%;
				-webkit-border-top-right-radius: 0px;
				-webkit-border-bottom-right-radius: 0px;
				-moz-border-radius-topright: 0px;
				-moz-border-radius-bottomright: 0px;
				border-top-right-radius: 0px;
				border-bottom-right-radius: 0px;
			}
			
			.primary-left {width: 10%; vertical-align: top}
			
			.primary-right {vertical-align: top}
			
			.phones .ui-datalist-content {border: none !important;}
			
			.phones .ui-datalist-data {margin: 0 !important;}
			
			.phones .ui-datalist-empty-message {padding: 0 !important; }
			
			.kintype label {
				margin: 0px 10px 0px 10px;
			}
			
			.kintype2 label.ui-outputlabel {
				margin-top: 20px !important;
			}
			
			.select label {padding: 5px 5px}

	</style>
</h:head>
<h:body>
	<p:growl id="outputMsg" widgetVar="outputMsg"/>
	<f:loadBundle basename="Language" var="msg"/>
	
	<h:form id="answer-form">
		<p:panelGrid columns="2" columnClasses="leftClm,rightClm" styleClass="occurrence no-background no-border" style="width: 100%;">
			<p:column>
				<p:dataTable widgetVar="occurrenceTable" id="occurrenceTable" var="occurrence" value="#{answerBean.model}" rows="10" 
							 paginator="true" paginatorPosition="bottom" emptyMessage="#{msg['empty.list']}" sortBy="#{occurrence.date}" 
							 sortOrder="descending" rowKey="#{occurrence.id}" styleClass="no-header" selectionMode="single" first="0">
					<p:ajax event="rowSelect" listener="#{answerBean.onRowSelect}" update=":answer-form:details" />
					<f:facet name="header">
						<p:panelGrid columns="1" columnClasses="docs-header" styleClass="no-border no-margin no-background" style="width: 100%; text-align: left; height: 25px">
							<h:outputText value="Ocorrências"/>
						</p:panelGrid>
					</f:facet>
					<p:column rendered="#{occurrence.answer != null and occurrence.answer.date != null}" styleClass="answered">
						<h:outputText value="#{occurrence.date}" style="float: right; display: block;">
							<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm" /><!-- timeZone="America/Sao_Paulo"-->
						</h:outputText>
						<h:outputText value="#{msg[occurrence.type.label]} - #{occurrence.code}" style="display: block;"/>
						<h:outputText value="#{occurrence.person.fullName}" style="display: block;"/>
						<h:outputText value="#{answerBean.displayFlat(occurrence.person)}" style="display: block;"/>
					</p:column>
					<p:column rendered="#{occurrence.answer == null or occurrence.answer.date == null}" styleClass="not-answered">
						<h:outputText value="#{occurrence.date}" style="float: right; display: block;">
							<f:convertDateTime pattern="dd/MM/yyyy 'às' HH:mm" /><!-- timeZone="America/Sao_Paulo"-->
						</h:outputText>
						<h:outputText value="#{msg[occurrence.type.label]} - #{occurrence.code}" style="display: block;"/>
						<h:outputText value="#{occurrence.person.fullName}" style="display: block;"/>
						<h:outputText value="#{answerBean.displayFlat(occurrence.person)}" style="display: block;"/>
					</p:column>
				</p:dataTable>
			</p:column>
			<p:column>
				<p:panelGrid id="details" columns="1" style="width: 100%;">
					<p:column>
						<h:outputText value="#{msg[answerBean.occurrence.type.label]} - #{answerBean.occurrence.code}" style="font-size: 15px; font-weight: bold; display: block;"/>
						<h:outputText value="#{answerBean.occurrence.date}">
							<f:convertDateTime pattern="'registrada em' dd 'de' MMMM 'de' yyyy 'às' HH:mm" /><!-- timeZone="America/Sao_Paulo"-->
						</h:outputText>
					</p:column>
					<p:column>
						<h:panelGrid columns="2" columnClasses="portraitClm,textClm" style="width: 100%;">
							<p:column>
								<p:graphicImage id="portrait" value="#{answerBean.occurrence.person.picture.path}" width="95" height="140"/>
								<h:outputText value="#{answerBean.occurrence.person.fullName}" style="display: block;"/>
								<h:outputText value="#{answerBean.displayFlat(answerBean.occurrence.person)}"/>
							</p:column>
							<p:column>
								<p:outputPanel id="occurrenceText" layout="block" styleClass="textarea">#{answerBean.occurrence.text}</p:outputPanel>
							</p:column>
						</h:panelGrid>
					</p:column>
					<p:column>
						<h:outputText value="Resposta:" style="font-size: 15px; font-weight: bold; display: block;"/>
						<h:outputText value="registrada em " rendered="#{answerBean.answer.date != null}"/>
						<h:outputText value="#{answerBean.answer.date}">
							<f:convertDateTime pattern="dd 'de' MMMM 'de' yyyy 'às' HH:mm"/><!-- timeZone="America/Sao_Paulo"-->
						</h:outputText>
					</p:column>
					<p:column>
						<h:panelGrid columns="2" columnClasses="portraitClm,textClm" style="width: 100%;">
							<p:column>
								<p:graphicImage id="portrait2" value="#{answerBean.answer.person.picture.path}" width="95" height="140"/>
								<h:outputText value="#{answerBean.answer.person.fullName}" style="display: block;"/>
								<h:outputText value="#{answerBean.displayFlat(answerBean.answer.person)}"/>
							</p:column>
							<p:column>
								<p:inputTextarea id="answerText" required="true" requiredMessage="#{msg['empty.answer']}"
												 counter="remaining-chars" counterTemplate="#{msg['text.counter']} {0}" maxlength="1000"
												 styleClass="textarea" value="#{answerBean.answer.text}"  
												 readonly="#{answerBean.answer.date != null}"/>
								<h:outputLabel id="remaining-chars" style="float:right; width: 100%" rendered="#{answerBean.answer.date == null}"/>
							</p:column>
						</h:panelGrid>
					</p:column>
					<p:column>
						<p:commandButton widgetVar="draftBtn" value="#{msg['save.draft']}" actionListener="#{answerBean.onSave}" 
										 update="@widgetVar(outputMsg),@widgetVar(occurrenceTable)" 
										 disabled="#{answerBean.answer.date != null}" style="margin: 0px -20px 0px 15px; float: right"/>
						<p:commandButton widgetVar="registerBtn" type="button" value="#{msg['save.answer']}"
										 disabled="#{answerBean.answer.date != null}" onclick="PF('cd').show();" style="float: right"/>
					</p:column>
				</p:panelGrid>
			</p:column>
		</p:panelGrid>
		<p:confirmDialog message="#{msg['register.confirm']}" severity="alert" widgetVar="cd" showEffect="fade" hideEffect="fade" closable="false">
			<f:facet name="header">
				<p:graphicImage value="../images/user_ico.png" style="vertical-align: top; margin-right: 10px;" rendered="false"/>
				<p:outputLabel value="Atenção" style="vertical-align: top; line-height: 25px;"/>
			</f:facet>
			<p:panel styleClass="no-background no-border" style="text-align: center; width: 200px; margin: 0 auto;">
				<p:commandButton value="#{msg['no']}" type="button" onclick="PF('cd').hide();" 
								 icon="ui-icon-close" style=" float:right;"/>
				<p:commandButton value="#{msg['yes']}" actionListener="#{answerBean.onAnswer}" 
								 update="@widgetVar(outputMsg),@widgetVar(occurrenceTable),@widgetVar(draftBtn),@widgetVar(registerBtn)" 
								 oncomplete="PF('cd').hide();" icon="ui-icon-check" style="margin-left: 5px;"/>
			</p:panel>
		</p:confirmDialog>
	</h:form>
</h:body>
</f:view>